{"version":3,"sources":["Video.js","App.js","index.js"],"names":["Video","_useState","useState","_useState2","Object","slicedToArray","videoLink","setVideoLink","useEffect","axios","get","then","res","req","data","link","react_default","a","createElement","lib_default","url","headerPost","concat","Accept","Authorization","Content-Type","App","setVideoUrl","handleChange","_ref","asyncToGenerator","regenerator_default","mark","_callee","eventObject","file","fileName","fileSize","response","upload","wrap","_context","prev","next","target","files","name","size","toString","console","log","method","headers","approach","sent","tus","Upload","endPoint","uploadUrl","upload_link","retryDelays","metadata","filename","filetype","type","onError","error","onProgress","bytesUploaded","bytesTotal","percentage","toFixed","onSuccess","start","stop","_x","apply","this","arguments","Fragment","class","src_Video","for","alert","onChange","id","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"uRAsBeA,MAnBf,WAAiB,IAAAC,EACqBC,mBAAS,IAD9BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACNK,EADMH,EAAA,GACKI,EADLJ,EAAA,GAUb,OARAK,oBAAU,WACNC,IACCC,IAAI,mEACJC,KAAK,SAACC,EAAKC,GACRN,EAAaK,EAAIE,KAAKA,KAAK,GAAGC,UAKlCC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACMG,IAAKd,MCMfe,GAXS,UAAAC,OAJK,oCAeD,CACjBC,OAAQ,2CACRC,cAAa,UAAAF,OAjBK,oCAkBlBG,eAAgB,qBAsEHC,MAnEf,WAAe,IAAAzB,EACmBC,mBAAS,IAD5BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACI0B,GADJxB,EAAA,GAAAA,EAAA,IAGPyB,EAAY,eAAAC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAA2B,EAAAd,EAAAe,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAd,EAAAuB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAEbR,EAAOD,EAAYU,OAAOC,MAAM,GAChCT,EAAWD,EAAKW,KAChBT,EAAWF,EAAKY,KAAKC,WAC3BC,QAAQC,IAAIf,EAAMC,EAAUC,GALTI,EAAAE,KAAA,EAOIlC,IAAM,CAC3B0C,OAAQ,OACR/B,IAAG,kCACHgC,QAAS/B,EACTP,KAAM,CACJyB,OAAQ,CACNc,SAAU,MACVN,KAAMV,MAdO,OAObC,EAPaG,EAAAa,KAmBnBL,QAAQC,IAAIZ,IAGNC,EAAS,IAAIgB,IAAIC,OAAOrB,EAAM,CAClCsB,SAAU,kCACVC,UAAWpB,EAASxB,KAAKyB,OAAOoB,YAChCC,YAAa,CAAC,EAAG,IAAM,IAAM,IAAO,KACpCC,SAAU,CACRC,SAAU3B,EAAKW,KACfiB,SAAU5B,EAAK6B,MAEjBZ,QAAS,GACTa,QAAS,SAASC,GAChBjB,QAAQC,IAAI,mBAAqBgB,IAEnCC,WAAY,SAASC,EAAeC,GAClC,IAAIC,GAAeF,EAAgBC,EAAc,KAAKE,QAAQ,GAC9DtB,QAAQC,IAAIkB,EAAeC,EAAYC,EAAa,MAEtDE,UAAW,WACTvB,QAAQC,IAAI,sBAAuBX,EAAOJ,KAAKW,KAAMP,EAAOnB,KAC5DO,EAAYY,EAAOnB,SAKhBqD,QA7CY,yBAAAhC,EAAAiC,SAAAzC,MAAH,gBAAA0C,GAAA,OAAA9C,EAAA+C,MAAAC,KAAAC,YAAA,GAgDlB,OACE9D,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8D,SAAA,KACE/D,EAAAC,EAAAC,cAAA,OAAK8D,MAAM,OAAX,IAAmBhE,EAAAC,EAAAC,cAAA,oBACnBF,EAAAC,EAAAC,cAAC+D,EAAD,MACAjE,EAAAC,EAAAC,cAAA,SAAOgE,IAAI,QAAQF,MAAM,OAAzB,mBACAhE,EAAAC,EAAAC,cAAA,uCAEIiE,MAAM,iCAGVnE,EAAAC,EAAAC,cAAA,SAAOkE,SAAUxD,EAAcoC,KAAK,OAAQqB,GAAG,aCrFrDC,IAASC,OAAOvE,EAAAC,EAAAC,cAACF,EAAAC,EAAMuE,WAAP,KACZxE,EAAAC,EAAAC,cAACuE,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.4e6ba143.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport ReactPlayer from 'react-player'\r\nimport axios from 'axios'\r\nfunction Video() {\r\n      let [videoLink, setVideoLink] = useState(\"\");\r\n    useEffect(()=> {\r\n        axios\r\n        .get(\"https://v1.nocodeapi.com/harshpal/vimeo/dmpqHktkekjQVazG/videos\")\r\n        .then((res, req) => {\r\n            setVideoLink(res.data.data[0].link)\r\n        })\r\n    })\r\n\r\n    return (        \r\n        <div>\r\n          <ReactPlayer\r\n                url={videoLink}\r\n            />  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Video\r\n","import React, { useState } from 'react';\r\nimport tus from 'tus-js-client';\r\nimport axios from 'axios';\r\nimport \"../src/App.css\";\r\nimport Video from './Video';\r\n\r\n\r\nconst accessToken = '8252c10e54138ccb4befc62fbc62e9dd';\r\n\r\nconst headerDelete = {\r\n  Accept: 'application/vnd.vimeo.*+json;version=3.4',\r\n  Authorization: `bearer ${accessToken}`,\r\n  'Content-Type': 'application/x-www-form-urlencode'\r\n};\r\n\r\nconst headerPatch = {\r\n  'Tus-Resumable': '1.0.0',\r\n  'Upload-Offset': 0,\r\n  'Content-Type': 'application/offset+octet-stream',\r\n  Accept: 'application/vnd.vimeo.*+json;version=3.4'\r\n};\r\n\r\nconst headerPost = {\r\n  Accept: 'application/vnd.vimeo.*+json;version=3.4',\r\n  Authorization: `bearer ${accessToken}`,\r\n  'Content-Type': 'application/json'\r\n};\r\n\r\nfunction App() {\r\n  const [videoUrl, setVideoUrl] = useState('');\r\n\r\n  const handleChange = async eventObject => {\r\n    // Get the selected file from the input element\r\n    const file = eventObject.target.files[0];\r\n    const fileName = file.name;\r\n    const fileSize = file.size.toString();\r\n    console.log(file, fileName, fileSize);\r\n\r\n    const response = await axios({\r\n      method: 'post',\r\n      url: `https://api.vimeo.com/me/videos`,\r\n      headers: headerPost,\r\n      data: {\r\n        upload: {\r\n          approach: 'tus',\r\n          size: fileSize\r\n        }\r\n      }\r\n    });\r\n\r\n    console.log(response);\r\n\r\n    // Create a new tus upload\r\n    const upload = new tus.Upload(file, {\r\n      endPoint: 'https://api.vimeo.com/me/videos',\r\n      uploadUrl: response.data.upload.upload_link,\r\n      retryDelays: [0, 3000, 5000, 10000, 20000],\r\n      metadata: {\r\n        filename: file.name,\r\n        filetype: file.type\r\n      },\r\n      headers: {},\r\n      onError: function(error) {\r\n        console.log('Failed because: ' + error);\r\n      },\r\n      onProgress: function(bytesUploaded, bytesTotal) {\r\n        let percentage = ((bytesUploaded / bytesTotal) * 100).toFixed(2);\r\n        console.log(bytesUploaded, bytesTotal, percentage + '%');\r\n      },\r\n      onSuccess: function() {\r\n        console.log('Download %s from %s', upload.file.name, upload.url);\r\n        setVideoUrl(upload.url);\r\n      }\r\n    });\r\n\r\n    // Start the upload\r\n    upload.start();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div class=\"app\" > <h1> Vimeo</h1>\r\n      <Video />\r\n      <label for=\"files\" class=\"btn\">Upload To Vimeo</label>\r\n      <script>\r\n      function myFunction() {\r\n          alert(\"Your file is being uploaded!\")\r\n      }\r\n      </script>\r\n      <input onChange={handleChange} type='file'  id=\"files\"/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'));\r\n"],"sourceRoot":""}